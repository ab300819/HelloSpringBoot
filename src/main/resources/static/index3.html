<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebSocketHandle</title>
    <link href="/webjars/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="/webjars/jquery/3.1.0/jquery.min.js"></script>

</head>
<body>
<div id="main-content" class="container">
    <button id="connect" class="btn-primary">connected</button>
</div>
<script>

    var sock = null;
    $('#connect').click(function () {
        sock = new WebSocket('ws://localhost:8282/test');
        sock.onopen=function (ev) {
            console.log('websocket connected!');
            sayHello()
        };

        sock.onmessage=function (ev) {
          console.log('received Message:',ev.data);
        };

        sock.onclose=function (ev) {
            console.log('connect close')
        }

    });


    function sayHello() {
        console.log('send mason');
        sock.send('mason')
    }

</script>
</body>
</html>